{% extends "base.html" %}

{% block title %}Vulnerable Components - jQuery 2.2.4{% endblock %}

{% block content %}
<div style="max-width: 1000px; margin: 0 auto; padding: 20px;">
    <h2 style="color: #e74c3c; margin-bottom: 30px;">ğŸ“¦ Vulnerable Components (A06:2021)</h2>
    
    <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin-bottom: 30px;">
        <h3 style="margin-top: 0; color: #856404;">âš ï¸ è­¦å‘Š</h3>
        <p style="margin-bottom: 0;">ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€æ—¢çŸ¥ã®è„†å¼±æ€§ã‚’æŒã¤<strong>jQuery 2.2.4</strong>ã‚’æ„å›³çš„ã«ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚</p>
    </div>

    <!-- jQueryæ¦‚è¦ -->
    <div style="background: white; border: 1px solid #ddd; border-radius: 5px; padding: 25px; margin-bottom: 30px;">
        <h3 style="color: #2c3e50; margin-top: 0;">ğŸ” æ¤œå‡ºã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h3>
        
        <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
            <h4 style="margin-top: 0; color: #495057;">jQuery 2.2.4</h4>
            <table style="width: 100%; border-collapse: collapse;">
                <tr>
                    <td style="padding: 8px; font-weight: bold; width: 200px;">ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå:</td>
                    <td style="padding: 8px;">jQuery</td>
                </tr>
                <tr style="background: #fff;">
                    <td style="padding: 8px; font-weight: bold;">ä½¿ç”¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</td>
                    <td style="padding: 8px; color: #e74c3c; font-weight: bold;">2.2.4 (è„†å¼±)</td>
                </tr>
                <tr>
                    <td style="padding: 8px; font-weight: bold;">æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</td>
                    <td style="padding: 8px; color: #27ae60;">3.7.1</td>
                </tr>
                <tr style="background: #fff;">
                    <td style="padding: 8px; font-weight: bold;">ãƒªãƒªãƒ¼ã‚¹æ—¥:</td>
                    <td style="padding: 8px;">2016å¹´5æœˆ20æ—¥</td>
                </tr>
                <tr>
                    <td style="padding: 8px; font-weight: bold;">ã‚µãƒãƒ¼ãƒˆçŠ¶æ…‹:</td>
                    <td style="padding: 8px; color: #e74c3c;">âŒ ã‚µãƒãƒ¼ãƒˆçµ‚äº†</td>
                </tr>
            </table>
        </div>

        <div style="margin-top: 20px;">
            <h4 style="color: #e74c3c;">ğŸš¨ æ—¢çŸ¥ã®è„†å¼±æ€§ï¼ˆCVEï¼‰</h4>
            
            <!-- CVE-2019-11358 -->
            <div style="border: 1px solid #e74c3c; border-radius: 5px; padding: 15px; margin-bottom: 15px;">
                <h5 style="margin-top: 0; color: #c0392b;">CVE-2019-11358 - Prototype Pollution</h5>
                <p><strong>å½±éŸ¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</strong> jQuery < 3.4.0</p>
                <p><strong>CVSS Score:</strong> 6.1 (Medium)</p>
                <p><strong>èª¬æ˜:</strong> jQueryã®<code>$.extend(true, {}, ...)</code>ãƒ¡ã‚½ãƒƒãƒ‰ã«ãŠã„ã¦ã€
                ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’æ±šæŸ“ã§ãã‚‹è„†å¼±æ€§ã€‚æ”»æ’ƒè€…ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã«
                ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€äºˆæœŸã—ãªã„å‹•ä½œã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>
                <p><strong>ä¿®æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</strong> 3.4.0ä»¥é™</p>
                <p><strong>å‚è€ƒ:</strong> 
                    <a href="https://nvd.nist.gov/vuln/detail/CVE-2019-11358" target="_blank" style="color: #3498db;">NVD</a> | 
                    <a href="https://blog.jquery.com/2019/04/10/jquery-3-4-0-released/" target="_blank" style="color: #3498db;">jQuery Release Notes</a>
                </p>
            </div>

            <!-- CVE-2015-9251 -->
            <div style="border: 1px solid #e74c3c; border-radius: 5px; padding: 15px; margin-bottom: 15px;">
                <h5 style="margin-top: 0; color: #c0392b;">CVE-2015-9251 - Cross-Site Scripting (XSS)</h5>
                <p><strong>å½±éŸ¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</strong> jQuery 1.12.4 < 3.0.0</p>
                <p><strong>CVSS Score:</strong> 6.1 (Medium)</p>
                <p><strong>èª¬æ˜:</strong> <code>location.hash</code>ã®å‡¦ç†ã«ãŠã„ã¦ã€ã‚¯ãƒ­ã‚¹ã‚µã‚¤ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒ†ã‚£ãƒ³ã‚°ï¼ˆXSSï¼‰
                æ”»æ’ƒãŒå¯èƒ½ãªè„†å¼±æ€§ã€‚æ”»æ’ƒè€…ãŒURLãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚’æ‚ªç”¨ã—ã¦ä»»æ„ã®JavaScriptã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚</p>
                <p><strong>ä¿®æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</strong> 3.0.0ä»¥é™</p>
                <p><strong>å‚è€ƒ:</strong> 
                    <a href="https://nvd.nist.gov/vuln/detail/CVE-2015-9251" target="_blank" style="color: #3498db;">NVD</a>
                </p>
            </div>

            <!-- CVE-2020-11022 & CVE-2020-11023 -->
            <div style="border: 1px solid #e74c3c; border-radius: 5px; padding: 15px; margin-bottom: 15px;">
                <h5 style="margin-top: 0; color: #c0392b;">CVE-2020-11022 & CVE-2020-11023 - XSS (htmlPrefilter)</h5>
                <p><strong>å½±éŸ¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</strong> jQuery 1.2.0 < 3.5.0</p>
                <p><strong>CVSS Score:</strong> 6.1 (Medium)</p>
                <p><strong>èª¬æ˜:</strong> <code>.html()</code>ã€<code>.append()</code>ç­‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ä½¿ç”¨ã•ã‚Œã‚‹
                htmlPrefilteré–¢æ•°ã«ãŠã„ã¦ã€ç‰¹å®šã®HTMLæ–‡å­—åˆ—ã‚’å‡¦ç†ã™ã‚‹éš›ã«XSSæ”»æ’ƒãŒå¯èƒ½ãªè„†å¼±æ€§ã€‚
                <code>&lt;option&gt;&lt;style&gt;&lt;/style&gt;</code>ç­‰ã®ç‰¹æ®Šãªã‚¿ã‚°æ§‹é€ ã‚’æ‚ªç”¨ã§ãã¾ã™ã€‚</p>
                <p><strong>ä¿®æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</strong> 3.5.0ä»¥é™</p>
                <p><strong>å‚è€ƒ:</strong> 
                    <a href="https://nvd.nist.gov/vuln/detail/CVE-2020-11022" target="_blank" style="color: #3498db;">CVE-2020-11022</a> | 
                    <a href="https://nvd.nist.gov/vuln/detail/CVE-2020-11023" target="_blank" style="color: #3498db;">CVE-2020-11023</a> | 
                    <a href="https://blog.jquery.com/2020/04/10/jquery-3-5-0-released/" target="_blank" style="color: #3498db;">jQuery 3.5.0 Release</a>
                </p>
            </div>
        </div>
    </div>

    <!-- ä¿®æ­£æ–¹æ³• -->
    <div style="background: white; border: 1px solid #ddd; border-radius: 5px; padding: 25px; margin-bottom: 30px;">
        <h3 style="color: #2c3e50; margin-top: 0;">ğŸ”§ ä¿®æ­£æ–¹æ³•</h3>
        
        <h4 style="color: #495057;">1. jQueryã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆï¼ˆæ¨å¥¨ï¼‰</h4>
        <pre style="background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 5px; overflow-x: auto;"><code># ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å‰Šé™¤
rm static/js/jquery-2.2.4.min.js

# æœ€æ–°ç‰ˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
wget https://code.jquery.com/jquery-3.7.1.min.js -O static/js/jquery-3.7.1.min.js

# HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã®å‚ç…§ã‚’æ›´æ–°
&lt;script src="{{ url_for('static', filename='js/jquery-3.7.1.min.js') }}"&gt;&lt;/script&gt;</code></pre>

        <h4 style="color: #495057; margin-top: 25px;">2. CDNçµŒç”±ã§ã®ä½¿ç”¨</h4>
        <pre style="background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 5px; overflow-x: auto;"><code>&lt;!-- Google CDN --&gt;
&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"&gt;&lt;/script&gt;

&lt;!-- jQuery CDN --&gt;
&lt;script src="https://code.jquery.com/jquery-3.7.1.min.js" 
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" 
        crossorigin="anonymous"&gt;&lt;/script&gt;</code></pre>

        <h4 style="color: #495057; margin-top: 25px;">3. Subresource Integrity (SRI) ã®ä½¿ç”¨</h4>
        <p>CDNçµŒç”±ã§ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€SRIãƒãƒƒã‚·ãƒ¥ã‚’å¿…ãšè¿½åŠ ã—ã¦ãã ã•ã„ï¼š</p>
        <pre style="background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 5px; overflow-x: auto;"><code>&lt;script src="https://code.jquery.com/jquery-3.7.1.min.js" 
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" 
        crossorigin="anonymous"&gt;&lt;/script&gt;</code></pre>
    </div>

    <!-- ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±API -->
    <div style="background: white; border: 1px solid #ddd; border-radius: 5px; padding: 25px;">
        <h3 style="color: #2c3e50; margin-top: 0;">ğŸ”— é–¢é€£ãƒªã‚½ãƒ¼ã‚¹</h3>
        
        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
            <a href="/component-versions" style="background: #3498db; color: white; padding: 12px 24px; border-radius: 5px; text-decoration: none; display: inline-block;">
                ğŸ“Š ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±API
            </a>
            <a href="https://jquery.com/download/" target="_blank" style="background: #27ae60; color: white; padding: 12px 24px; border-radius: 5px; text-decoration: none; display: inline-block;">
                â¬‡ï¸ jQueryæœ€æ–°ç‰ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
            </a>
            <a href="https://blog.jquery.com/" target="_blank" style="background: #9b59b6; color: white; padding: 12px 24px; border-radius: 5px; text-decoration: none; display: inline-block;">
                ğŸ“° jQueryå…¬å¼ãƒ–ãƒ­ã‚°
            </a>
        </div>

        <div style="margin-top: 20px; padding: 15px; background: #e8f5e9; border-radius: 5px;">
            <p style="margin: 0; font-weight: bold; color: #2e7d32;">ğŸ’¡ ãƒ’ãƒ³ãƒˆ</p>
            <p style="margin: 10px 0 0 0;">ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§<code>$.fn.jquery</code>ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ç¾åœ¨ã®jQueryãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã§ãã¾ã™ã€‚</p>
        </div>
    </div>

    <div style="margin-top: 30px; text-align: center;">
        <a href="/" style="color: #3498db; text-decoration: none; font-size: 16px;">â† ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a>
    </div>
</div>

<style>
code {
    background: #f8f9fa;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: 'Courier New', monospace;
    font-size: 14px;
}

pre code {
    background: transparent;
    padding: 0;
}

a {
    transition: opacity 0.2s;
}

a:hover {
    opacity: 0.8;
}

table {
    font-size: 14px;
}

@media (max-width: 768px) {
    div[style*="flex"] {
        flex-direction: column;
    }
    
    table {
        font-size: 12px;
    }
}
</style>
{% endblock %}
